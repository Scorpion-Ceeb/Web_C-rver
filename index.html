<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web C-rver</title>
</head>
<body>
    <table class="sortable_table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Size</th>
                <th>Last Date</th>
            </tr>
        </thead>
        <tbody>
            <!-- TABLE_ELEMENTS -->
        </tbody>
    </table>
    <script>
        function sort_table_by_column(table, column, asc=true) 
        {
            const dirModifier = asc ? 1: -1;
            const tBody = table.tBodies[0];
            const rows = Array.from(tBody.querySelectorAll("tr"));

            const sortedRows = rows.sort((a, b)=>{
                const aColText = a.querySelector(`td:nth-child(${column + 1})`).textContent.trim();
                const bColText = b.querySelector(`td:nth-child(${column + 1})`).textContent.trim();

                return aColText > bColText ? (1*dirModifier):(-1*dirModifier);
            });

            while (tBody.firstChild) {
                tBody.removeChild(tBody.firstChild);
            }

            tBody.append(...sortedRows)

            table.querySelectorAll("th").forEach(th=> th.classList.remove("th-sort-asc", "th-sort-desc"));
            table.querySelector(`th:nth-child(${column+1})`).classList.toggle("th-sort-asc", asc);
            table.querySelector(`th:nth-child(${column+1})`).classList.toggle("th-sort-desc", !asc);
        }

        document.querySelectorAll(".sortable_table th").forEach(headerCell=>{
            headerCell.addEventListener("click", ()=>{
                const table = headerCell.parentElement.parentElement.parentElement;
                const headerIndex = Array.prototype.indexOf.call(headerCell.parentElement.children, headerCell);
                const currentIsAsc = headerCell.classList.contains("th-sort-asc");

                sort_table_by_column(table, headerIndex, !currentIsAsc);
            });
        });
    </script>
</body>
</html>